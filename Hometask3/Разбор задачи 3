Разбор домашней задачи №3

Условие: написать с помощью битовых функций алгоритм, вычисляющий для int логарифм по основанию 2:

log_2(64) = 6

log_2(42) = -1

log_2(-222) = -2

То есть для чисел, для которых значение вывести значение логарифма целое вывести это значение, для чисел, для которых знаечение нецелое вывести -1, для отрицательных вывести -2.

Идея решения:
В начале проверим число на отрицательность и если оно отрицательное то сразу выведем -2.
Теперь приступим к основному решению.
Фактически значение логарифма это то, сколько раз число делится на 2 нацело. Значит мы можем инициализировать счётчик, который будет считать сколько раз мы раздедили число на 2.
Делить будем в цикле while до тех пор пока наше число > 1 (логарифм от 1 не существует). Делим с помощью битовой операции сдвига влево(x = x >> 1).
Затем необходима проверка! Для этого возведём при помощи битовой операции сдвига влево два в степень счётчика (1 << counter) и если результат будет равен исходному числу, то логарифм посчитался и можно выводить счётчик, в противном случае выводим -1.